<!DOCTYPE html>
<html>
<head>
	<title>Project Meme</title>


<!--     BootStrap     -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col">
				<button onclick="searchMeme()">Show Results</button>
				<!-- <input id="search" type="textbox" placeholder="search" onChange="searchMeme()">
       -->
       <input id="search" type="textbox" placeholder="search">
			</div>
			<div class="col">
				<button onclick="uploadMeme()"> Add</button>
				<input id= "name" type="textbox" placeholder="Name">
				<input id= "tag" type="textbox" placeholder="Tags">
				<input id= "url" type="textbox" placeholder="URL">
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col">
				<div id="result">Result</div>
			</div>
		</div>
	</div>


	<script>
  // global array that every function has access to
	 var memeBox =[]

   // function definition that will create a url for the meme
	 function uploadMeme(){

     // create variables to get the value of the inputs in order to construct the object
			var n = document.getElementById("name").value.toLowerCase();
			var t = document.getElementById("tag").value.split(" ")
			var u = document.getElementById("url").value

      // Object construct
			var meme = {
				name: n,
				tag: t,
				url: u
			}

      // push the object to the array
			memeBox.push(meme);

      // call the function that is going to display all memes that we defined a few lines below
			displayAllMemes()

			alert(meme.name + " was just pushed!");
      console.log('Log of the search array ==>', memeBox)
		};

    // function definition that shows the meme on the page
		function displayAllMemes(){

      // clear the results from the page, prevents duplicates from new search and previous search
			var display = document.getElementById("result");
			display.innerHTML = " ";

      // loop through the array and appen the img URL and img html element node to the DOM
      for(var i = 0; i < memeBox.length; i++){
        display.innerHTML += '<img src="' + memeBox[i].url + '">'
      }
    };

    // this function sole purpose is to grab the input and find the img url
		function searchMeme(){

      // get the value that is inputed in the input box
			var searchText = document.getElementById("search").value.toLowerCase();

      // clear the results before the search is started
      document.getElementById('result').innerHTML = '';

      // take the stored value in variable search the array for a match
			for (var i = 0; i < memeBox.length; i ++){

        // if the the name of the meme is the same as the input text or the tags include
        // the input text add the meme to the DOM. 
        if(memeBox[i].name == searchText ||  memeBox[i].tag.includes(searchText)){
          document.getElementById('result').innerHTML = '<img src="' + memeBox[i].url +'" />'
        }
			}
		}

	</script>



</body>
</html>
